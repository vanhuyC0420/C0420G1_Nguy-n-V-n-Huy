<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let arrCustomer = [];
    function displayMainMenu() {
        let choose = parseFloat(prompt("1. Add New Customer."
            + "\n2. Display Information Customer."
            + "\n3. Edit Information Customer."
            + "\n4. Delete Customer."
            + "\n5. Exit."));
        switch (choose) {
            case 1:
                addNewCustomer();
                break;
            case 2:
                displayCustomer();
                break;
            case 3:
                editCustomer();
                break;
            case 4:
                deleteCustomer();
                break;
            case 5:
                break;
            default:{
                alert("Failed!");
            }
        }
    }

    displayMainMenu();

    function editCustomer() {
        let sout = "";
        for (let i = 0 ; i<arrCustomer.length;i++){
            sout += (i+1)+". "+arrCustomer[i][0] +"\n"
        }
        let chooseDisplay = parseInt(prompt(sout+(arrCustomer.length+1)+"."+" Quay lại màn hình chính."));
        while (chooseDisplay != arrCustomer.length+1){
            let choose2 =parseInt(prompt("1.Họ tên: " +arrCustomer[chooseDisplay-1][0]  // phải trừ 1 vì khi hiện ra bắt đầu từ 1, nhưng mảng bắt đầu từ 0.
                + "\n2. Email: " + arrCustomer[chooseDisplay-1][3]
                + "\n3. CMND: " + arrCustomer[chooseDisplay-1][1]
                + "\n4. Ngày sinh: " +arrCustomer[chooseDisplay-1][2]
                + "\n5. Chọn hàng mục cần sửa"));
            switch (choose2) {
                case 1:
                    arrCustomer[chooseDisplay-1][0] = prompt("Nhập lại tên: ");
                    break;
                case  2:
                    arrCustomer[chooseDisplay-1][3] = prompt("Nhập lại email: ");
                    break;
                case  3:
                    arrCustomer[chooseDisplay-1][1] = prompt("Nhập lại CMND: ");
                    break;
                case  4:
                    arrCustomer[chooseDisplay-1][2] = prompt("Nhập lại ngày sinh: ");
                    break;
                default: alert("Không có trong trình đơn");
            }

            editCustomer();
        }
        if (chooseDisplay == arrCustomer.length+1) displayMainMenu();

    }

    function addNewCustomer() {
        let cusInfor = [];
        let name = prompt('Tên');
        let cmnd = prompt('CMND');
        let birthday = prompt('Ngày sinh:')
        let email = prompt('Email');
        cusInfor.push(name);
        cusInfor.push(cmnd);
        cusInfor.push(birthday);
        cusInfor.push(email);

        arrCustomer.push(cusInfor);
        displayMainMenu();
    }

    function displayCustomer() {
        let sout = "";
        for (let i = 0 ; i<arrCustomer.length;i++){
            sout += (i+1)+". "+arrCustomer[i][0] +"\n"
        }
        let temp = parseInt(prompt(sout+(arrCustomer.length+1)+"."+" Quay lại màn hình chính."));
        alert("Họ tên: " +arrCustomer[temp-1][0]
            + "\nNgày sinh: " + arrCustomer[temp-1][2]
            + "\nCMND: " + arrCustomer[temp-1][1]
            + "\nEmail: " +arrCustomer[temp-1][3]);
        if (!temp)
            displayMainMenu();
        displayMainMenu();
    }

    function deleteCustomer() {
        let sout = "";
        for (let i = 0 ; i<arrCustomer.length;i++){
            sout += (i+1)+". "+arrCustomer[i][0] +"\n"
        }
        let chooseDelete = parseInt(prompt(sout+(arrCustomer.length+1)+"."+" Chọn vị trí muốn xoá."));
        let check = prompt("Are you sure!?");
        if (check){
            arrCustomer.splice(chooseDelete-1,1);
        }
        else deleteCustomer();
        displayMainMenu();
    }

</script>
</body>
</html>